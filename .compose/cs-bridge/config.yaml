# Matrix / Synapse Configuration
# Configures connection to the Matrix homeserver and service registration details
homeserverUrl: "http://synapse:8008"
domain: "docker.internal"
registrationPath: "/data/registration.yaml"

# Synapse-specific settings
# Controls retry behavior for admin operations
synapse:
  adminRetryMode: "exclusive"
  # Avatar upload settings (optional, shown with defaults)
  # avatarMaxSizeBytes: 5242880      # 5MB
  # avatarFetchTimeoutMs: 10000      # 10 seconds

# Database Configuration
# PostgreSQL connection details for storing application state and settings
database:
  engine: "pg"
  host: "postgres"
  name: "tom_db"
  user: "twake"
  password: "twake_password"

# RabbitMQ Configuration
# Message queue setup for publishing and consuming settings update events
rabbitmq:
  host: "rabbitmq"
  port: 5672
  username: "guest"
  password: "guest"
  vhost: "/"
  tls: false
  # Primary queue for receiving settings update events
  queue: "chat.settings.updated.queue"
  # Exchange for publishing settings updates
  exchange: "settings.exchange"
  # Routing key for filtering settings update messages
  routingKey: "user.settings.updated"
  # Dead letter exchange for handling failed message processing
  deadLetterExchange: "users.settings.dlx"
  # Routing key for directing failed messages to dead letter queue
  deadLetterRoutingKey: "user.settings.updated.dlx"
